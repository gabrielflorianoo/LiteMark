{"version":3,"sources":["/electron/main.ts"],"sourcesContent":["import path from 'node:path';\nimport { fileURLToPath } from 'node:url';\nimport { app, BrowserWindow } from 'electron';\n\nconst __dirname = path.dirname(fileURLToPath(import.meta.url));\n\nprocess.env['ELECTRON_DISABLE_SECURITY_WARNINGS'] = 'true';\n// The built directory structure\n//\n// ├─┬ dist\n// │ ├─┬ electron\n// │ │ ├── main.js\n// │ │ └── preload.js\n// │ ├── index.html\n// │ ├── ...other-static-files-from-public\n// │\nprocess.env.DIST = path.join(__dirname, '../dist');\nprocess.env.FARM_PUBLIC = app.isPackaged\n    ? process.env.DIST\n    : path.join(process.env.DIST, '../public');\n\nif (!app.requestSingleInstanceLock()) {\n    app.quit();\n    process.exit(0);\n}\n\nlet win: BrowserWindow | null;\n\nfunction createWindow() {\n    win = new BrowserWindow({\n        icon: path.join(process.env.FARM_PUBLIC, 'logo.svg'),\n        webPreferences: {\n            preload: path.join(__dirname, './preload.mjs'),\n        },\n    });\n\n    // Test active push message to Renderer-process.\n    win.webContents.on('did-finish-load', () => {\n        win?.webContents.send(\n            'main-process-message',\n            new Date().toLocaleString(),\n        );\n    });\n\n    if (process.env.FARM_DEV_SERVER_URL) {\n        win.loadURL(process.env.FARM_DEV_SERVER_URL);\n        win.webContents.openDevTools();\n    } else {\n        // win.loadFile('dist/index.html')\n        win.loadFile(path.join(process.env.DIST, 'index.html'));\n    }\n}\n\napp.on('window-all-closed', () => {\n    app.quit();\n    win = null;\n});\n\napp.whenReady().then(createWindow);\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAC8B;AACK;AAEyB;AAER;AAUZ;AAGN;AAEI;AAC1B;AACK;AACjB;AAEI;AAEK;AACmB;AACqB;AACzB;AACkB;AAClC;AACJ;AAGsC;AAGL;AAEjC;AAEqC;AACU;AACf;AACzB;AAEsC;AAC7C;AACJ;AAE4B;AAChB;AACF;AACV;AAEqB;AAAA;AAAA"}